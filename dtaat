
CREATE TABLE USERS(
	Login_u VARCHAR(255) NOT NULL,
	Name VARCHAR(255) NOT NULL,
	Hash_pass VARCHAR(255) NOT NULL,
	PRIMARY KEY (Login_u)
);

CREATE TABLE BOOKMARK(
	Id INT IDENTITY(1,1) NOT NULL,
	Product_name VARCHAR(255) NOT NULL,
	User_login VARCHAR(255) NOT NULL,
	PRIMARY KEY (Id)
);

CREATE TABLE RATING(
	Id INT IDENTITY(1,1) NOT NULL,
	Rating INT NOT NULL,
	Product_name VARCHAR(255) NOT NULL,
	User_login VARCHAR(255) NOT NULL,
	PRIMARY KEY (Id)
);

CREATE TABLE COMMENT(
	Id INT IDENTITY(1,1) NOT NULL,
	Comment TEXT NOT NULL,
	Product_name VARCHAR(255) NOT NULL,
	User_login VARCHAR(255) NOT NULL,
	PRIMARY KEY (Id)
);


CREATE TABLE PRODUCT(
	Name VARCHAR(255) NOT NULL,
	Descripton VARCHAR(255) NOT NULL,
	Rating INT NOT NULL,
	PRIMARY KEY (Name)
);

CREATE TABLE GAME_HISTORY(
	Id INT IDENTITY(1,1) NOT NULL,
	Is_winner BIT NOT NULL,
	Product_name VARCHAR(255) NOT NULL,
	User_login VARCHAR(255) NOT NULL,
	PRIMARY KEY (Id)
);	

CREATE TABLE PARAMS(
	Id INT IDENTITY(1,1) NOT NULL,
	Name VARCHAR(255) NOT NULL,
	PRIMARY KEY (Id)
);

CREATE TABLE PARAMS_VALUE(
	Id INT IDENTITY(1,1) NOT NULL,
	Param_id INT NOT NULL,
	Product_name VARCHAR(255) NOT NULL,
	PRIMARY KEY (Id)
);


CREATE TABLE CHAT_USER(
	Id INT IDENTITY(1,1) NOT NULL,
	Status_u VARCHAR(255) NOT NULL,
	User_login VARCHAR(255) NOT NULL,
	Chat_name VARCHAR(255) NOT NULL,
	PRIMARY KEY (Id)
);


CREATE TABLE CHAT(
	Name VARCHAR(255) NOT NULL,
	Chat_user_id INT NOT NULL,
	PRIMARY KEY (Name)
);

CREATE TABLE CHAT_HISTORY(
	Id INT IDENTITY(1,1) NOT NULL,
	Text VARCHAR(255) NOT NULL,
	Chat_id INT NOT NULL,
	User_login VARCHAR(255) NOT NULL,
	PRIMARY KEY (Id)
)

ALTER TABLE BOOKMARK
ADD FOREIGN KEY (User_login)
REFERENCES USERS(Login_u) ON DELETE CASCADE

DROP TABLE USERS, BOOKMARK, PRODUCT, RATING, COMMENT,
		   GAME_HISTORY, PARAMS, PARAMS_VALUE, CHAT_USER, CHAT, CHAT_HISTORY;
